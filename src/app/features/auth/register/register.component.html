<div class="d-flex justify-content-center mt-5">
    <div class="col-3">
      <form [formGroup]="registerForm" (ngSubmit)="onRegister()">
        <div class="text-center mb-4">
          <h1 class="mb-3">Đăng tài khoản Libri</h1>
        </div>

        <app-input-text [formControl]="registerForm.controls['username']" [label]="'Tên người dùng'"></app-input-text>
        <app-input-text [formControl]="registerForm.controls['email']" [label]="'Email'" type="email"></app-input-text>

        <div class="form-floating mb-3 position-relative">
          <input
            [type]="passwordFieldType"
            formControlName="password"
            class="form-control"
            placeholder="Mật khẩu"
          >
          <span class="position-absolute top-50 end-0 translate-middle-y me-2" (click)="togglePasswordVisibility()">
            <i class="fa" [ngClass]="{'fa-eye-slash': !passwordVisible, 'fa-eye': passwordVisible}"></i>
          </span>
          <label for="floatingPassword">Mật khẩu</label>
          <div *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.invalid" class="invalid-feedback">
            * Vui lòng điền Mật khẩu
          </div>
          <div *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.getError('pattern')" class="invalid-feedback">
            * Mật khẩu phải có ít nhất chữ thường, chữ hoa, số và ký tự đặc biệt
          </div>
        </div>
        <div class="form-floating mb-3 position-relative">
          <input
            [type]="confirmPasswordFieldType"
            formControlName="confirmPassword"
            class="form-control"
            placeholder="Xác nhận mật khẩu"
          >
          <span class="position-absolute top-50 end-0 translate-middle-y me-2" (click)="toggleConfirmPasswordVisibility()">
            <i class="fa" [ngClass]="{'fa-eye-slash': !confirmPasswordVisible, 'fa-eye': confirmPasswordVisible}"></i>
          </span>
          <label for="floatingPassword">Xác nhận mật khẩu</label>
          <div *ngIf="registerForm.get('confirmPassword')?.touched && registerForm.get('confirmPassword')?.invalid" class="invalid-feedback">
            * Vui lòng nhập lại Mật khẩu
          </div>
          <div *ngIf="registerForm.get('confirmPassword')?.touched && registerForm.get('confirmPassword')?.getError('isMatching')" class="invalid-feedback">
            * Mật khẩu không trùng khớp
          </div>
        </div>

        <app-input-text [formControl]="registerForm.controls['phoneNumber']" [label]="'Số điện thoại'"></app-input-text>
        <app-date-input
          [formControl]="registerForm.controls['dateOfBirth']"
          [label]="'Ngày sinh'"
          [maxDate]="maxDate"
          dateMode="date"
        >
        </app-date-input>

        <div class="mb-3">
          <label style="margin-right: 10px;">Giới tính: </label>
          <input class="form-check-input" type="radio" value='male' formControlName='gender'>
          <label class="form-check-label ms-3">Nam</label>
          <input type="radio" value='female' formControlName='gender' class="form-check-input ms-3">
          <label class="form-check-label ms-3">Nữ</label>
        </div>
        <ul class="text-danger list-unstyled" *ngIf="errors">
          <li *ngIf="let error of errors">
            {{ error }}
          </li>
        </ul>
        <div class="d-grid">
          <button [disabled]="registerForm.invalid" class="btn btn-lg mt-3" type="submit" style="color: black;background-color: orange;">Đăng ký</button>
          <p class="ms-5 small fw-bold mt-2 pt-1 mb-0">
            <span>Bạn đã có tài khoản Libri?</span>
            <a routerLink="/login" class="link-danger ms-2" style="font-style: italic;">Đăng nhập tại đây</a>
          </p>
        </div>
      </form>
    </div>
  </div>
